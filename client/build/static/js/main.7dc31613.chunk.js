(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(21),a=n.n(r),i=(n(27),n(28),n(3)),o=n(5),j=n(11),l=n(39),b=n(0);function d(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),a=Object(i.a)(r,2),o=a[0],d=a[1],u=Object(c.useContext)(w),O=Object(i.a)(u,1)[0],h=Object(c.useState)("uncompleted"),x=Object(i.a)(h,2),m=x[0],f=x[1],p=Object(c.useState)("add"),v=Object(i.a)(p,2),g=v[0],N=v[1],y=Object(c.useState)(""),S=Object(i.a)(y,2),C=S[0],k=S[1],T=function(e){fetch("/actions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(O.username,":").concat(O.password)},body:JSON.stringify(e)})};return Object(c.useEffect)((function(){fetch("/actions",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(O.username,":").concat(O.password)}}).then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("form",{onSubmit:function(e,t){if(e.preventDefault(),o){if("add"===g){var c={id:Object(l.a)(),text:o,checked:!1,deleted:!1},r=[].concat(Object(j.a)(n),[c]);s(r),d(""),T(r)}else{var a=Object(j.a)(n);a.find((function(e){return e.id===C})).text=o,s(a),d(""),T(a)}N("add"),k("")}},children:[Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{className:"form-control",placeholder:"Please enter your new action item here...",onChange:function(e){return d(e.target.value)},value:o})}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"d-flex jsutify-content-between align-item-end",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-info btn-md",children:"Save"})})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("select",{onChange:function(e){return t=e.target.value,void f(t);var t},children:[Object(b.jsx)("option",{value:"uncompleted",children:"Uncompleted Item"}),Object(b.jsx)("option",{value:"completed",children:"Completed Item"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"mt-3",children:Object(b.jsxs)("table",{className:"table table-strip mt-3",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{style:{width:"100%"},children:[Object(b.jsx)("th",{style:{width:"70%"},children:"Action Item Text"}),Object(b.jsx)("th",{style:{width:"15%"},children:"Complete"}),Object(b.jsx)("th",{style:{width:"15%"},children:"Action"})]})}),Object(b.jsx)("tbody",{children:n.filter((function(e){return"completed"===m?e.checked:!e.checked})).map((function(e){return!e.deleted&&Object(b.jsxs)("tr",{className:"group-list-item",style:{textAlign:"left"},children:[Object(b.jsx)("td",{children:Object(b.jsx)("span",{onClick:function(){return function(e){var t=Object(j.a)(n).find((function(t){return t.id===e}));d(t.text),N("edit"),k(t.id)}(e.id)},children:e.text})}),Object(b.jsx)("td",{style:{"text-align":"center","vertical-align":"middle","horizontal-align":"middle"},children:Object(b.jsx)("input",{type:"checkbox",onChange:function(){!function(e){var t=Object(j.a)(n),c=t.find((function(t){return t.id===e}));c.checked=!c.checked,s(t),T(t),console.log(JSON.stringify(n))}(e.id)},checked:e.checked})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{onClick:function(){return function(e){var t=Object(j.a)(n),c=t.find((function(t){return t.id===e}));c.deleted=!c.deleted,s(t),T(t),console.log(JSON.stringify(n))}(e.id)},className:"btn btn-info btn-mid",children:"Delete"})})]},null==e.id?e._id:e.id)}))})]})})]})}function u(){var e=Object(c.useContext)(w),t=Object(i.a)(e,1)[0];return Object(b.jsx)("div",{className:"container mt-5",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-sm-8 col-sm-offset-2",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsxs)("h1",{className:"text-center text-info",children:["Action Item List ",t&&Object(b.jsx)("span",{children:"for "}),t&&t.username]})}),Object(b.jsx)("body",{children:!t&&Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)(o.b,{to:"/register",children:"Register"}),Object(b.jsx)("br",{}),Object(b.jsx)(o.b,{to:"/login",children:"Login"}),Object(b.jsx)("br",{})]})}),Object(b.jsx)("div",{className:"card-footer",children:t&&Object(b.jsx)(d,{})})]})})})})}var O=n(10),h=n.n(O),x=n(15),m=n(2),f=function(e){return Object(b.jsx)("div",{className:"container mt-5",children:Object(b.jsx)("div",{id:"login-row",className:"row justify-constant-center align-item-center",children:Object(b.jsx)("div",{id:"login-column",className:"col-md-6 py-3",children:Object(b.jsx)("div",{id:"login-box",className:"col-md-12",children:Object(b.jsx)("form",{id:"login-form",className:"form",onSubmit:e.onSubmit,children:e.children})})})})})},p=function(){var e=Object(x.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=6;break}return e.next=3,t.json();case 3:throw n=e.sent,c=n.message,Error(c);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function v(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),a=Object(i.a)(r,2),j=a[0],l=a[1],d=Object(c.useState)(""),u=Object(i.a)(d,2),O=u[0],h=u[1],x=Object(c.useContext)(w),v=Object(i.a)(x,2)[1],g=Object(m.f)();return Object(b.jsxs)(f,{children:[Object(b.jsx)("h1",{className:"text-info text-center",children:"Register"}),Object(b.jsxs)("div",{className:"form-group",children:[O&&Object(b.jsx)("span",{style:{color:"red"},children:O}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"form-control",placeholder:"User Name",onChange:function(e){return s(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"form-control",placeholder:"Password",onChange:function(e){return l(e.target.value)},type:"password"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-item-end",children:[Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:j})}).then(p).then((function(){v({username:n,password:j}),g.push("/")})).catch((function(e){console.error(e),h(e.message)}))},type:"button",className:"btn btn-info btn-md",children:"Submit"}),Object(b.jsx)(o.b,{to:"/login",children:"I am already registered"})]})]})]})}var g=function(){var e=Object(x.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=6;break}return e.next=3,t.json();case 3:throw n=e.sent,c=n.message,Error(c);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function N(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),a=Object(i.a)(r,2),j=a[0],l=a[1],d=Object(c.useState)(""),u=Object(i.a)(d,2),O=u[0],h=u[1],x=Object(c.useContext)(w),p=Object(i.a)(x,2)[1],v=Object(m.f)();return Object(b.jsxs)(f,{children:[Object(b.jsx)("h1",{className:"text-center text-info",children:"Log in"}),Object(b.jsxs)("div",{className:"form-group",children:[O&&Object(b.jsx)("span",{style:{color:"red"},children:O}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"form-control",placeholder:"User Name",onChange:function(e){return s(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"form-control",placeholder:"Password",onChange:function(e){return l(e.target.value)},type:"password"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-item-end",children:[Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:j})}).then(g).then((function(){p({username:n,password:j}),v.push("/")})).catch((function(e){console.error(e),h(e.message)}))},className:"btn btn-info btn-md",type:"button",children:"Submit"}),Object(b.jsx)(o.b,{to:"/register",children:"I am not registered yet"})]})]})]})}function y(){var e=Object(c.useContext)(w),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(b.jsx)("div",{children:Object(b.jsx)("nav",{className:"nav bg-light navbar-expand-lg navbar-light",children:Object(b.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(b.jsx)("li",{className:"navbar-item",children:Object(b.jsx)(o.b,{to:"/",className:"nav-link",children:"Home"})}),!n&&Object(b.jsx)("li",{className:"navbar-item",children:Object(b.jsx)(o.b,{to:"/register",className:"nav-link",children:"Register"})}),!n&&Object(b.jsx)("li",{className:"navbar-item",children:Object(b.jsx)(o.b,{to:"/login",className:"nav-link",children:"Login"})}),n&&Object(b.jsx)("li",{className:"navbar-item",children:Object(b.jsx)(o.b,{to:"/",className:"nav-link",onClick:function(){s(null)},children:"Logout"})})]})})})}var w=s.a.createContext();var S=function(){var e=Object(c.useState)(null);return Object(b.jsx)("div",{children:Object(b.jsx)(w.Provider,{value:e,children:Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(y,{}),Object(b.jsxs)(m.c,{children:[Object(b.jsx)(m.a,{exact:!0,path:"/",children:Object(b.jsx)(u,{})}),Object(b.jsx)(m.a,{exact:!0,path:"/register",children:Object(b.jsx)(v,{})}),Object(b.jsx)(m.a,{exact:!0,path:"/login",children:Object(b.jsx)(N,{})})]})]})})})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};n(36);a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root")),C()}},[[37,1,2]]]);
//# sourceMappingURL=main.7dc31613.chunk.js.map